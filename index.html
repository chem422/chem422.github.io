


    
    
    Game Upload & Download
    
    
        #uploadModal, #gameDetailsModal {
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        #uploadModal.open, #gameDetailsModal.open {
            display: flex;
            opacity: 1;
        }
        .game-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: none;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    


    
    
        
            Game Platform
            Upload & Share Your Games
        
    

<!-- Main Container -->
<div class="container mx-auto p-6">
    <!-- Upload Button -->
    <div class="flex justify-center mb-8">
        <button id="openUploadModal" class="bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition duration-200">Upload Games</button>
    </div>

    <!-- Games Grid -->
    <div id="gamesGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
</div>

<!-- Upload Modal -->
<div id="uploadModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white p-8 rounded-xl w-full max-w-lg shadow-2xl">
        <h2 class="text-2xl font-bold mb-6 text-gray-800">Upload Your Games</h2>
        <form id="uploadForm">
            <div class="mb-5">
                <label class="block text-sm font-medium text-gray-700 mb-2">Game Files (.exe or .html)</label>
                <input type="file" id="gameFiles" accept=".exe,.html" multiple class="mt-1 block w-full border-gray-300 rounded-md p-2 border">
            </div>
            <div class="mb-5">
                <label class="block text-sm font-medium text-gray-700 mb-2">Icon (.png)</label>
                <input type="file" id="gameIcon" accept=".png" class="mt-1 block w-full border-gray-300 rounded-md p-2 border">
            </div>
            <div class="mb-5">
                <label class="block text-sm font-medium text-gray-700 mb-2">Title</label>
                <input type="text" id="gameTitle" class="mt-1 block w-full border-gray-300 rounded-md p-2 border" required>
            </div>
            <div class="mb-5">
                <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                <textarea id="gameDescription" class="mt-1 block w-full border-gray-300 rounded-md p-2 border" rows="4" required></textarea>
            </div>
            <div class="flex justify-end items-center">
                <button type="button" id="closeUploadModal" class="mr-3 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300">Cancel</button>
                <button type="submit" id="uploadButton" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 flex items-center">
                    <span>Load</span>
                    <div id="uploadSpinner" class="spinner ml-2"></div>
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Game Details Modal -->
<div id="gameDetailsModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white p-8 rounded-xl w-full max-w-lg shadow-2xl">
        <h2 id="detailsTitle" class="text-2xl font-bold mb-4 text-gray-800"></h2>
        <img id="detailsIcon" class="w-40 h-40 object-cover mb-4 rounded mx-auto" alt="Game Icon">
        <p id="detailsDescription" class="text-gray-600 mb-6"></p>
        <div class="flex justify-between mb-4">
            <a id="detailsDownload" href="#" download class="bg-green-500 text-white px-4 py-2 rounded-lg opacity-50 cursor-not-allowed" title="Download not available: File storage requires a server backend">Download</a>
            <button id="detailsPlay" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">Play in Browser</button>
        </div>
        <div class="flex justify-between">
            <button id="deleteGame" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600">Delete Game</button>
            <button id="closeDetailsModal" class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300">Close</button>
        </div>
    </div>
</div>

<script>
    // Simulated storage for games
    let games = JSON.parse(localStorage.getItem('games')) || [];

    // Function to display games
    function displayGames() {
        const gamesGrid = document.getElementById('gamesGrid');
        gamesGrid.innerHTML = '';
        games.forEach((game, index) => {
            const gameCard = document.createElement('div');
            gameCard.className = 'game-card bg-white p-5 rounded-xl shadow-lg cursor-pointer relative';
            gameCard.innerHTML = `
                <img src="${game.icon}" alt="${game.title}" class="w-32 h-32 object-cover mx-auto mb-3 rounded-lg">
                <h3 class="text-lg font-semibold text-center text-gray-800">${game.title}</h3>
                <button class="delete-game absolute top-2 right-2 text-red-500 hover:text-red-700" data-index="${index}">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
            `;
            gameCard.querySelector('.delete-game').addEventListener('click', (e) => {
                e.stopPropagation();
                deleteGame(index);
            });
            gameCard.addEventListener('click', (e) => {
                if (!e.target.closest('.delete-game')) showGameDetails(index);
            });
            gamesGrid.appendChild(gameCard);
        });
    }

    // Delete game
    function deleteGame(index) {
        if (confirm('Are you sure you want to delete this game?')) {
            games.splice(index, 1);
            localStorage.setItem('games', JSON.stringify(games));
            displayGames();
            document.getElementById('gameDetailsModal').classList.remove('open');
        }
    }

    // Open upload modal
    document.getElementById('openUploadModal').addEventListener('click', () => {
        document.getElementById('uploadModal').classList.add('open');
    });

    // Close upload modal
    document.getElementById('closeUploadModal').addEventListener('click', () => {
        document.getElementById('uploadModal').classList.remove('open');
        document.getElementById('uploadForm').reset();
    });

    // Handle form submission
    document.getElementById('uploadForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const uploadButton = document.getElementById('uploadButton');
        const uploadSpinner = document.getElementById('uploadSpinner');
        uploadButton.disabled = true;
        uploadSpinner.style.display = 'block';

        const gameFiles = document.getElementById('gameFiles').files;
        const gameIcon = document.getElementById('gameIcon').files[0];
        const gameTitle = document.getElementById('gameTitle').value;
        const gameDescription = document.getElementById('gameDescription').value;

        if (gameFiles.length === 0 || !gameIcon || !gameTitle || !gameDescription) {
            alert('Please fill in all fields and select at least one game file (.exe or .html) and a .png icon.');
            uploadButton.disabled = false;
            uploadSpinner.style.display = 'none';
            return;
        }

        const readerIcon = new FileReader();
        readerIcon.onload = async () => {
            const iconData = readerIcon.result;
            for (let i = 0; i < gameFiles.length; i++) {
                const gameFile = gameFiles[i];
                if (gameFile.type === 'text/html' && gameFile.size < 1024 * 1024) { // Limit HTML file size to 1MB for demo
                    const readerFile = new FileReader();
                    await new Promise(resolve => {
                        readerFile.onload = () => {
                            games.push({
                                title: gameTitle,
                                description: gameDescription,
                                icon: iconData,
                                file: gameFile.name,
                                content: readerFile.result // Store HTML content for browser playback
                            });
                            resolve();
                        };
                        readerFile.readAsDataURL(gameFile);
                    });
                } else {
                    games.push({
                        title: gameTitle,
                        description: gameDescription,
                        icon: iconData,
                        file: gameFile.name
                    });
                }
            }
            localStorage.setItem('games', JSON.stringify(games));
            displayGames();
            document.getElementById('uploadModal').classList.remove('open');
            document.getElementById('uploadForm').reset();
            uploadButton.disabled = false;
            uploadSpinner.style.display = 'none';
        };
        readerIcon.readAsDataURL(gameIcon);
    });

    // Show game details
    function showGameDetails(index) {
        const game = games[index];
        document.getElementById('detailsTitle').textContent = game.title;
        document.getElementById('detailsIcon').src = game.icon;
        document.getElementById('detailsDescription').textContent = game.description;
        document.getElementById('detailsDownload').href = game.file;
        document.getElementById('detailsDownload').onclick = (e) => {
            e.preventDefault();
            alert('Download not available: This is a demo. Actual file downloads require a server backend to store and serve the files.');
        };
        document.getElementById('detailsPlay').onclick = () => {
            if (game.content && game.file.endsWith('.html')) {
                const newTab = window.open();
                newTab.document.write(game.content.replace('data:text/html;base64,', 'data:text/html;charset=utf-8,')); // Ensure correct MIME type
            } else {
                alert('Playing .exe files in the browser is not supported. Please download the game to play.');
            }
        };
        document.getElementById('deleteGame').onclick = () => deleteGame(index);
        document.getElementById('gameDetailsModal').classList.add('open');
    }

    // Close game details modal
    document.getElementById('closeDetailsModal').addEventListener('click', () => {
        document.getElementById('gameDetailsModal').classList.remove('open');
    });

    // Initial display of games
    displayGames();
</script>


